\section{Canvas Events}
\label{group__Evas__Canvas__Events}\index{Canvas Events@{Canvas Events}}


Canvas generates some events.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
EAPI void \hyperlink{group__Evas__Canvas__Events_ga0388995a80e8951a532fbdc63ba26c71}{evas\_\-event\_\-callback\_\-add} (\hyperlink{group__Evas__Canvas_ga5ff87cc4ce6bc43e3b640a6d37f73043}{Evas} $\ast$e, \hyperlink{Evas_8h_a076b2a9b2de2b2144a4193b1d12ed448}{Evas\_\-Callback\_\-Type} type, Evas\_\-Event\_\-Cb func, const void $\ast$data)
\begin{DoxyCompactList}\small\item\em Add a callback function to the canvas. \item\end{DoxyCompactList}\item 
EAPI void $\ast$ \hyperlink{group__Evas__Canvas__Events_ga11a461d33617b022e490287e85217f5c}{evas\_\-event\_\-callback\_\-del} (\hyperlink{group__Evas__Canvas_ga5ff87cc4ce6bc43e3b640a6d37f73043}{Evas} $\ast$e, \hyperlink{Evas_8h_a076b2a9b2de2b2144a4193b1d12ed448}{Evas\_\-Callback\_\-Type} type, Evas\_\-Event\_\-Cb func)
\begin{DoxyCompactList}\small\item\em Delete a callback function from the canvas. \item\end{DoxyCompactList}\item 
EAPI void $\ast$ \hyperlink{group__Evas__Canvas__Events_ga84450d679e473b3ac84d4374f8936980}{evas\_\-event\_\-callback\_\-del\_\-full} (\hyperlink{group__Evas__Canvas_ga5ff87cc4ce6bc43e3b640a6d37f73043}{Evas} $\ast$e, \hyperlink{Evas_8h_a076b2a9b2de2b2144a4193b1d12ed448}{Evas\_\-Callback\_\-Type} type, Evas\_\-Event\_\-Cb func, const void $\ast$data)
\begin{DoxyCompactList}\small\item\em Delete a callback function from the canvas. \item\end{DoxyCompactList}\item 
EAPI void \hyperlink{group__Evas__Canvas__Events_ga8f8a2686dbbe3c55e091decf3f29d42a}{evas\_\-post\_\-event\_\-callback\_\-push} (\hyperlink{group__Evas__Canvas_ga5ff87cc4ce6bc43e3b640a6d37f73043}{Evas} $\ast$e, Evas\_\-Object\_\-Event\_\-Post\_\-Cb func, const void $\ast$data)
\begin{DoxyCompactList}\small\item\em Push a callback on the post-\/event callback stack. \item\end{DoxyCompactList}\item 
EAPI void \hyperlink{group__Evas__Canvas__Events_ga59f159113fe24fdb5e33e7df3e333516}{evas\_\-post\_\-event\_\-callback\_\-remove} (\hyperlink{group__Evas__Canvas_ga5ff87cc4ce6bc43e3b640a6d37f73043}{Evas} $\ast$e, Evas\_\-Object\_\-Event\_\-Post\_\-Cb func)
\begin{DoxyCompactList}\small\item\em Remove a callback from the post-\/event callback stack. \item\end{DoxyCompactList}\item 
EAPI void \hyperlink{group__Evas__Canvas__Events_ga3c76c419125c3cad9095f1fdae5f3ac9}{evas\_\-post\_\-event\_\-callback\_\-remove\_\-full} (\hyperlink{group__Evas__Canvas_ga5ff87cc4ce6bc43e3b640a6d37f73043}{Evas} $\ast$e, Evas\_\-Object\_\-Event\_\-Post\_\-Cb func, const void $\ast$data)
\begin{DoxyCompactList}\small\item\em Remove a callback from the post-\/event callback stack. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Canvas generates some events. 

\subsection{Function Documentation}
\index{Evas\_\-Canvas\_\-Events@{Evas\_\-Canvas\_\-Events}!evas\_\-event\_\-callback\_\-add@{evas\_\-event\_\-callback\_\-add}}
\index{evas\_\-event\_\-callback\_\-add@{evas\_\-event\_\-callback\_\-add}!Evas_Canvas_Events@{Evas\_\-Canvas\_\-Events}}
\subsubsection[{evas\_\-event\_\-callback\_\-add}]{\setlength{\rightskip}{0pt plus 5cm}EAPI void evas\_\-event\_\-callback\_\-add (
\begin{DoxyParamCaption}
\item[{{\bf Evas} $\ast$}]{ e, }
\item[{{\bf Evas\_\-Callback\_\-Type}}]{ type, }
\item[{Evas\_\-Event\_\-Cb}]{ func, }
\item[{const void $\ast$}]{ data}
\end{DoxyParamCaption}
)}\label{group__Evas__Canvas__Events_ga0388995a80e8951a532fbdc63ba26c71}


Add a callback function to the canvas. 


\begin{DoxyParams}{Parameters}
\item[{\em e}]Canvas to attach a callback to \item[{\em type}]The type of event that will trigger the callback \item[{\em func}]The function to be called when the event is triggered \item[{\em data}]The data pointer to be passed to {\ttfamily func} \end{DoxyParams}
This function adds a function callback to the canvas when the event of type {\ttfamily type} occurs on canvas {\ttfamily e}. The function is {\ttfamily func}.

In the event of a memory allocation error during addition of the callback to the canvas, \hyperlink{group__Evas__Group_ga1c782b4511e3b8678a2166c651053ac9}{evas\_\-alloc\_\-error()} should be used to determine the nature of the error, if any, and the program should sensibly try and recover.

The function will be passed the pointer {\ttfamily data} when it is called. A callback function must look like this:


\begin{DoxyCode}
 void callback (void *data, Evas *e, void *event_info);
\end{DoxyCode}


The first parameter {\ttfamily data} in this function will be the same value passed to \hyperlink{group__Evas__Canvas__Events_ga0388995a80e8951a532fbdc63ba26c71}{evas\_\-event\_\-callback\_\-add()} as the {\ttfamily data} parameter. The second parameter {\ttfamily e} is the canvas handle on which the event occurred. The third parameter {\ttfamily event\_\-info} is a pointer to a data structure that may or may not be passed to the callback, depending on the event type that triggered the callback.

The event type {\ttfamily type} to trigger the function may be one of \hyperlink{Evas_8h_a99e208e463a20499aabe6faac8a8cb8aa5a68e4f5dccdc18a393ef4a4773236c3}{EVAS\_\-CALLBACK\_\-RENDER\_\-FLUSH\_\-PRE}, \hyperlink{Evas_8h_a99e208e463a20499aabe6faac8a8cb8aa4fb1f9e790a22f8e22b63faadf0133c1}{EVAS\_\-CALLBACK\_\-RENDER\_\-FLUSH\_\-POST}, \hyperlink{Evas_8h_a99e208e463a20499aabe6faac8a8cb8aac3a1defaffac4dcb6fe9e568919c45d1}{EVAS\_\-CALLBACK\_\-CANVAS\_\-FOCUS\_\-IN}, \hyperlink{Evas_8h_a99e208e463a20499aabe6faac8a8cb8aa444e79ca91d910d500dc26f71cf0518f}{EVAS\_\-CALLBACK\_\-CANVAS\_\-FOCUS\_\-OUT}. This determines the kind of event that will trigger the callback to be called. So far none of the event types provide useful data, so in all of them {\ttfamily event\_\-info} pointer is {\ttfamily NULL}.

Example: 
\begin{DoxyCode}
 extern Evas *e;
 extern void *my_data;
 void focus_in_callback(void *data, Evas *e, void *event_info);
 void focus_out_callback(void *data, Evas *e, void *event_info);

 evas_event_callback_add(e, EVAS_CALLBACK_CANVAS_FOCUS_IN, focus_in_callback, my_
      data);
 if (evas_alloc_error() != EVAS_ALLOC_ERROR_NONE)
   {
     fprintf(stderr, "ERROR: Callback registering failed! Abort!\n");
     exit(-1);
   }
 evas_event_callback_add(e, EVAS_CALLBACK_CANVAS_FOCUS_OUT, focus_out_callback, m
      y_data);
 if (evas_alloc_error() != EVAS_ALLOC_ERROR_NONE)
   {
     fprintf(stderr, "ERROR: Callback registering failed! Abort!\n");
     exit(-1);
   }
\end{DoxyCode}
 \index{Evas\_\-Canvas\_\-Events@{Evas\_\-Canvas\_\-Events}!evas\_\-event\_\-callback\_\-del@{evas\_\-event\_\-callback\_\-del}}
\index{evas\_\-event\_\-callback\_\-del@{evas\_\-event\_\-callback\_\-del}!Evas_Canvas_Events@{Evas\_\-Canvas\_\-Events}}
\subsubsection[{evas\_\-event\_\-callback\_\-del}]{\setlength{\rightskip}{0pt plus 5cm}EAPI void$\ast$ evas\_\-event\_\-callback\_\-del (
\begin{DoxyParamCaption}
\item[{{\bf Evas} $\ast$}]{ e, }
\item[{{\bf Evas\_\-Callback\_\-Type}}]{ type, }
\item[{Evas\_\-Event\_\-Cb}]{ func}
\end{DoxyParamCaption}
)}\label{group__Evas__Canvas__Events_ga11a461d33617b022e490287e85217f5c}


Delete a callback function from the canvas. 


\begin{DoxyParams}{Parameters}
\item[{\em e}]Canvas to remove a callback from \item[{\em type}]The type of event that was triggering the callback \item[{\em func}]The function that was to be called when the event was triggered \end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data pointer that was to be passed to the callback
\end{DoxyReturn}
This function removes the most recently added callback from the canvas {\ttfamily e} which was triggered by the event type {\ttfamily type} and was calling the function {\ttfamily func} when triggered. If the removal is successful it will also return the data pointer that was passed to \hyperlink{group__Evas__Canvas__Events_ga0388995a80e8951a532fbdc63ba26c71}{evas\_\-event\_\-callback\_\-add()} when the callback was added to the canvas. If not successful NULL will be returned.

Example: 
\begin{DoxyCode}
 extern Evas *e;
 void *my_data;
 void focus_in_callback(void *data, Evas *e, void *event_info);

 my_data = evas_event_callback_del(ebject, EVAS_CALLBACK_CANVAS_FOCUS_IN, focus_i
      n_callback);
\end{DoxyCode}
 \index{Evas\_\-Canvas\_\-Events@{Evas\_\-Canvas\_\-Events}!evas\_\-event\_\-callback\_\-del\_\-full@{evas\_\-event\_\-callback\_\-del\_\-full}}
\index{evas\_\-event\_\-callback\_\-del\_\-full@{evas\_\-event\_\-callback\_\-del\_\-full}!Evas_Canvas_Events@{Evas\_\-Canvas\_\-Events}}
\subsubsection[{evas\_\-event\_\-callback\_\-del\_\-full}]{\setlength{\rightskip}{0pt plus 5cm}EAPI void$\ast$ evas\_\-event\_\-callback\_\-del\_\-full (
\begin{DoxyParamCaption}
\item[{{\bf Evas} $\ast$}]{ e, }
\item[{{\bf Evas\_\-Callback\_\-Type}}]{ type, }
\item[{Evas\_\-Event\_\-Cb}]{ func, }
\item[{const void $\ast$}]{ data}
\end{DoxyParamCaption}
)}\label{group__Evas__Canvas__Events_ga84450d679e473b3ac84d4374f8936980}


Delete a callback function from the canvas. 


\begin{DoxyParams}{Parameters}
\item[{\em e}]Canvas to remove a callback from \item[{\em type}]The type of event that was triggering the callback \item[{\em func}]The function that was to be called when the event was triggered \item[{\em data}]The data pointer that was to be passed to the callback \end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data pointer that was to be passed to the callback
\end{DoxyReturn}
This function removes the most recently added callback from the canvas {\ttfamily e} which was triggered by the event type {\ttfamily type} and was calling the function {\ttfamily func} with data {\ttfamily data} when triggered. If the removal is successful it will also return the data pointer that was passed to \hyperlink{group__Evas__Canvas__Events_ga0388995a80e8951a532fbdc63ba26c71}{evas\_\-event\_\-callback\_\-add()} (that will be the same as the parameter) when the callback was added to the canvas. If not successful NULL will be returned.

Example: 
\begin{DoxyCode}
 extern Evas *e;
 void *my_data;
 void focus_in_callback(void *data, Evas *e, void *event_info);

 my_data = evas_event_callback_del_full(ebject, EVAS_CALLBACK_CANVAS_FOCUS_IN, fo
      cus_in_callback, my_data);
\end{DoxyCode}
 \index{Evas\_\-Canvas\_\-Events@{Evas\_\-Canvas\_\-Events}!evas\_\-post\_\-event\_\-callback\_\-push@{evas\_\-post\_\-event\_\-callback\_\-push}}
\index{evas\_\-post\_\-event\_\-callback\_\-push@{evas\_\-post\_\-event\_\-callback\_\-push}!Evas_Canvas_Events@{Evas\_\-Canvas\_\-Events}}
\subsubsection[{evas\_\-post\_\-event\_\-callback\_\-push}]{\setlength{\rightskip}{0pt plus 5cm}EAPI void evas\_\-post\_\-event\_\-callback\_\-push (
\begin{DoxyParamCaption}
\item[{{\bf Evas} $\ast$}]{ e, }
\item[{Evas\_\-Object\_\-Event\_\-Post\_\-Cb}]{ func, }
\item[{const void $\ast$}]{ data}
\end{DoxyParamCaption}
)}\label{group__Evas__Canvas__Events_ga8f8a2686dbbe3c55e091decf3f29d42a}


Push a callback on the post-\/event callback stack. 


\begin{DoxyParams}{Parameters}
\item[{\em e}]Canvas to push the callback on \item[{\em func}]The function that to be called when the stack is unwound \item[{\em data}]The data pointer to be passed to the callback\end{DoxyParams}
Evas has a stack of callbacks that get called after all the callbacks for an event have triggered (all the objects it triggers on and al the callbacks in each object triggered). When all these have been called, the stack is unwond from most recently to least recently pushed item and removed from the stack calling the callback set for it.

This is intended for doing reverse logic-\/like processing, example -\/ when a child object that happens to get the event later is meant to be able to \char`\"{}steal\char`\"{} functions from a parent and thus on unwind of this stack hav its function called first, thus being able to set flags, or return 0 from the post-\/callback that stops all other post-\/callbacks in the current stack from being called (thus basically allowing a child to take control, if the event callback prepares information ready for taking action, but the post callback actually does the action). \index{Evas\_\-Canvas\_\-Events@{Evas\_\-Canvas\_\-Events}!evas\_\-post\_\-event\_\-callback\_\-remove@{evas\_\-post\_\-event\_\-callback\_\-remove}}
\index{evas\_\-post\_\-event\_\-callback\_\-remove@{evas\_\-post\_\-event\_\-callback\_\-remove}!Evas_Canvas_Events@{Evas\_\-Canvas\_\-Events}}
\subsubsection[{evas\_\-post\_\-event\_\-callback\_\-remove}]{\setlength{\rightskip}{0pt plus 5cm}EAPI void evas\_\-post\_\-event\_\-callback\_\-remove (
\begin{DoxyParamCaption}
\item[{{\bf Evas} $\ast$}]{ e, }
\item[{Evas\_\-Object\_\-Event\_\-Post\_\-Cb}]{ func}
\end{DoxyParamCaption}
)}\label{group__Evas__Canvas__Events_ga59f159113fe24fdb5e33e7df3e333516}


Remove a callback from the post-\/event callback stack. 


\begin{DoxyParams}{Parameters}
\item[{\em e}]Canvas to push the callback on \item[{\em func}]The function that to be called when the stack is unwound\end{DoxyParams}
This removes a callback from the stack added with \hyperlink{group__Evas__Canvas__Events_ga8f8a2686dbbe3c55e091decf3f29d42a}{evas\_\-post\_\-event\_\-callback\_\-push()}. The first instance of the function in the callback stack is removed from being executed when the stack is unwound. Further instances may still be run on unwind. \index{Evas\_\-Canvas\_\-Events@{Evas\_\-Canvas\_\-Events}!evas\_\-post\_\-event\_\-callback\_\-remove\_\-full@{evas\_\-post\_\-event\_\-callback\_\-remove\_\-full}}
\index{evas\_\-post\_\-event\_\-callback\_\-remove\_\-full@{evas\_\-post\_\-event\_\-callback\_\-remove\_\-full}!Evas_Canvas_Events@{Evas\_\-Canvas\_\-Events}}
\subsubsection[{evas\_\-post\_\-event\_\-callback\_\-remove\_\-full}]{\setlength{\rightskip}{0pt plus 5cm}EAPI void evas\_\-post\_\-event\_\-callback\_\-remove\_\-full (
\begin{DoxyParamCaption}
\item[{{\bf Evas} $\ast$}]{ e, }
\item[{Evas\_\-Object\_\-Event\_\-Post\_\-Cb}]{ func, }
\item[{const void $\ast$}]{ data}
\end{DoxyParamCaption}
)}\label{group__Evas__Canvas__Events_ga3c76c419125c3cad9095f1fdae5f3ac9}


Remove a callback from the post-\/event callback stack. 


\begin{DoxyParams}{Parameters}
\item[{\em e}]Canvas to push the callback on \item[{\em func}]The function that to be called when the stack is unwound \item[{\em data}]The data pointer to be passed to the callback\end{DoxyParams}
This removes a callback from the stack added with \hyperlink{group__Evas__Canvas__Events_ga8f8a2686dbbe3c55e091decf3f29d42a}{evas\_\-post\_\-event\_\-callback\_\-push()}. The first instance of the function and data in the callback stack is removed from being executed when the stack is unwound. Further instances may still be run on unwind. 