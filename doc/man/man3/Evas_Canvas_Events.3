.TH "Canvas Events" 3 "Tue Apr 19 2011" "Evas" \" -*- nroff -*-
.ad l
.nh
.SH NAME
Canvas Events \- 
.PP
Canvas generates some events.  

.SS "Functions"

.in +1c
.ti -1c
.RI "EAPI void \fBevas_event_callback_add\fP (\fBEvas\fP *e, \fBEvas_Callback_Type\fP type, Evas_Event_Cb func, const void *data)"
.br
.RI "\fIAdd a callback function to the canvas. \fP"
.ti -1c
.RI "EAPI void * \fBevas_event_callback_del\fP (\fBEvas\fP *e, \fBEvas_Callback_Type\fP type, Evas_Event_Cb func)"
.br
.RI "\fIDelete a callback function from the canvas. \fP"
.ti -1c
.RI "EAPI void * \fBevas_event_callback_del_full\fP (\fBEvas\fP *e, \fBEvas_Callback_Type\fP type, Evas_Event_Cb func, const void *data)"
.br
.RI "\fIDelete a callback function from the canvas. \fP"
.ti -1c
.RI "EAPI void \fBevas_post_event_callback_push\fP (\fBEvas\fP *e, Evas_Object_Event_Post_Cb func, const void *data)"
.br
.RI "\fIPush a callback on the post-event callback stack. \fP"
.ti -1c
.RI "EAPI void \fBevas_post_event_callback_remove\fP (\fBEvas\fP *e, Evas_Object_Event_Post_Cb func)"
.br
.RI "\fIRemove a callback from the post-event callback stack. \fP"
.ti -1c
.RI "EAPI void \fBevas_post_event_callback_remove_full\fP (\fBEvas\fP *e, Evas_Object_Event_Post_Cb func, const void *data)"
.br
.RI "\fIRemove a callback from the post-event callback stack. \fP"
.in -1c
.SH "Detailed Description"
.PP 
Canvas generates some events. 
.SH "Function Documentation"
.PP 
.SS "EAPI void evas_event_callback_add (\fBEvas\fP * e, \fBEvas_Callback_Type\fP type, Evas_Event_Cb func, const void * data)"
.PP
Add a callback function to the canvas. \fBParameters:\fP
.RS 4
\fIe\fP Canvas to attach a callback to 
.br
\fItype\fP The type of event that will trigger the callback 
.br
\fIfunc\fP The function to be called when the event is triggered 
.br
\fIdata\fP The data pointer to be passed to \fCfunc\fP 
.RE
.PP
This function adds a function callback to the canvas when the event of type \fCtype\fP occurs on canvas \fCe\fP. The function is \fCfunc\fP.
.PP
In the event of a memory allocation error during addition of the callback to the canvas, \fBevas_alloc_error()\fP should be used to determine the nature of the error, if any, and the program should sensibly try and recover.
.PP
The function will be passed the pointer \fCdata\fP when it is called. A callback function must look like this:
.PP
.PP
.nf
 void callback (void *data, Evas *e, void *event_info);
.fi
.PP
.PP
The first parameter \fCdata\fP in this function will be the same value passed to \fBevas_event_callback_add()\fP as the \fCdata\fP parameter. The second parameter \fCe\fP is the canvas handle on which the event occurred. The third parameter \fCevent_info\fP is a pointer to a data structure that may or may not be passed to the callback, depending on the event type that triggered the callback.
.PP
The event type \fCtype\fP to trigger the function may be one of \fBEVAS_CALLBACK_RENDER_FLUSH_PRE\fP, \fBEVAS_CALLBACK_RENDER_FLUSH_POST\fP, \fBEVAS_CALLBACK_CANVAS_FOCUS_IN\fP, \fBEVAS_CALLBACK_CANVAS_FOCUS_OUT\fP. This determines the kind of event that will trigger the callback to be called. So far none of the event types provide useful data, so in all of them \fCevent_info\fP pointer is \fCNULL\fP.
.PP
Example: 
.PP
.nf
 extern Evas *e;
 extern void *my_data;
 void focus_in_callback(void *data, Evas *e, void *event_info);
 void focus_out_callback(void *data, Evas *e, void *event_info);

 evas_event_callback_add(e, EVAS_CALLBACK_CANVAS_FOCUS_IN, focus_in_callback, my_data);
 if (evas_alloc_error() != EVAS_ALLOC_ERROR_NONE)
   {
     fprintf(stderr, 'ERROR: Callback registering failed! Abort!\n');
     exit(-1);
   }
 evas_event_callback_add(e, EVAS_CALLBACK_CANVAS_FOCUS_OUT, focus_out_callback, my_data);
 if (evas_alloc_error() != EVAS_ALLOC_ERROR_NONE)
   {
     fprintf(stderr, 'ERROR: Callback registering failed! Abort!\n');
     exit(-1);
   }

.fi
.PP
 
.SS "EAPI void* evas_event_callback_del (\fBEvas\fP * e, \fBEvas_Callback_Type\fP type, Evas_Event_Cb func)"
.PP
Delete a callback function from the canvas. \fBParameters:\fP
.RS 4
\fIe\fP Canvas to remove a callback from 
.br
\fItype\fP The type of event that was triggering the callback 
.br
\fIfunc\fP The function that was to be called when the event was triggered 
.RE
.PP
\fBReturns:\fP
.RS 4
The data pointer that was to be passed to the callback
.RE
.PP
This function removes the most recently added callback from the canvas \fCe\fP which was triggered by the event type \fCtype\fP and was calling the function \fCfunc\fP when triggered. If the removal is successful it will also return the data pointer that was passed to \fBevas_event_callback_add()\fP when the callback was added to the canvas. If not successful NULL will be returned.
.PP
Example: 
.PP
.nf
 extern Evas *e;
 void *my_data;
 void focus_in_callback(void *data, Evas *e, void *event_info);

 my_data = evas_event_callback_del(ebject, EVAS_CALLBACK_CANVAS_FOCUS_IN, focus_in_callback);

.fi
.PP
 
.SS "EAPI void* evas_event_callback_del_full (\fBEvas\fP * e, \fBEvas_Callback_Type\fP type, Evas_Event_Cb func, const void * data)"
.PP
Delete a callback function from the canvas. \fBParameters:\fP
.RS 4
\fIe\fP Canvas to remove a callback from 
.br
\fItype\fP The type of event that was triggering the callback 
.br
\fIfunc\fP The function that was to be called when the event was triggered 
.br
\fIdata\fP The data pointer that was to be passed to the callback 
.RE
.PP
\fBReturns:\fP
.RS 4
The data pointer that was to be passed to the callback
.RE
.PP
This function removes the most recently added callback from the canvas \fCe\fP which was triggered by the event type \fCtype\fP and was calling the function \fCfunc\fP with data \fCdata\fP when triggered. If the removal is successful it will also return the data pointer that was passed to \fBevas_event_callback_add()\fP (that will be the same as the parameter) when the callback was added to the canvas. If not successful NULL will be returned.
.PP
Example: 
.PP
.nf
 extern Evas *e;
 void *my_data;
 void focus_in_callback(void *data, Evas *e, void *event_info);

 my_data = evas_event_callback_del_full(ebject, EVAS_CALLBACK_CANVAS_FOCUS_IN, focus_in_callback, my_data);

.fi
.PP
 
.SS "EAPI void evas_post_event_callback_push (\fBEvas\fP * e, Evas_Object_Event_Post_Cb func, const void * data)"
.PP
Push a callback on the post-event callback stack. \fBParameters:\fP
.RS 4
\fIe\fP Canvas to push the callback on 
.br
\fIfunc\fP The function that to be called when the stack is unwound 
.br
\fIdata\fP The data pointer to be passed to the callback
.RE
.PP
Evas has a stack of callbacks that get called after all the callbacks for an event have triggered (all the objects it triggers on and al the callbacks in each object triggered). When all these have been called, the stack is unwond from most recently to least recently pushed item and removed from the stack calling the callback set for it.
.PP
This is intended for doing reverse logic-like processing, example - when a child object that happens to get the event later is meant to be able to 'steal' functions from a parent and thus on unwind of this stack hav its function called first, thus being able to set flags, or return 0 from the post-callback that stops all other post-callbacks in the current stack from being called (thus basically allowing a child to take control, if the event callback prepares information ready for taking action, but the post callback actually does the action). 
.SS "EAPI void evas_post_event_callback_remove (\fBEvas\fP * e, Evas_Object_Event_Post_Cb func)"
.PP
Remove a callback from the post-event callback stack. \fBParameters:\fP
.RS 4
\fIe\fP Canvas to push the callback on 
.br
\fIfunc\fP The function that to be called when the stack is unwound
.RE
.PP
This removes a callback from the stack added with \fBevas_post_event_callback_push()\fP. The first instance of the function in the callback stack is removed from being executed when the stack is unwound. Further instances may still be run on unwind. 
.SS "EAPI void evas_post_event_callback_remove_full (\fBEvas\fP * e, Evas_Object_Event_Post_Cb func, const void * data)"
.PP
Remove a callback from the post-event callback stack. \fBParameters:\fP
.RS 4
\fIe\fP Canvas to push the callback on 
.br
\fIfunc\fP The function that to be called when the stack is unwound 
.br
\fIdata\fP The data pointer to be passed to the callback
.RE
.PP
This removes a callback from the stack added with \fBevas_post_event_callback_push()\fP. The first instance of the function and data in the callback stack is removed from being executed when the stack is unwound. Further instances may still be run on unwind. 
.SH "Author"
.PP 
Generated automatically by Doxygen for Evas from the source code.
